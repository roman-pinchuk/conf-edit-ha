# Example automation with nested structures
automation:
  - alias: "Morning Routine"
    trigger:
      - platform: time
        at: "07:00:00"
    condition:
      - condition: state
        entity_id: binary_sensor.workday
        state: "on"
    action:
      - service: light.turn_on
        target:
          entity_id:
            - light.bedroom
            - light.kitchen
        data:
          brightness: 255
          color_temp: 366
      - service: climate.set_temperature
        target:
          entity_id: climate.thermostat
        data:
          temperature: 21
      - service: media_player.play_media
        target:
          entity_id: media_player.bedroom
        data:
          media_content_type: "music"
          media_content_id: "spotify:playlist:morning"

  - alias: "Nested Lists and Dicts"
    trigger:
      - platform: state
        entity_id: sensor.temperature
    action:
      - choose:
          - conditions:
              - condition: numeric_state
                entity_id: sensor.temperature
                above: 25
            sequence:
              - service: fan.turn_on
                data:
                  percentage: 100
          - conditions:
              - condition: numeric_state
                entity_id: sensor.temperature
                below: 18
            sequence:
              - service: climate.turn_on
                data:
                  temperature: 22
        default:
          - service: notify.mobile_app
            data:
              message: "Temperature is normal ({{ states('sensor.temperature') }}Â°C)"
